{% extends 'base_template.html' %}
{% load static %}


{% block page-content %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Title -->

    <!-- Bootstrap CSS -->
    <link
      href="vendor/bootstrap-5.1.3-dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
     <script src="vendor/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>

    <!-- Option 2: jQuery -->
    <script src="plugins/jquery/jquery-3.6.0.min.js"></script>
  </head>
  <body class="bg-light">
    <!-- Navbar -->
    <nav class="navbar fixed-top navbar-light bg-light shadow bg-white">
      <div class="container-fluid">
      </div>
    </nav>
    <br />
    <br />
    <!-- Main Content -->
    <h2 align="center">Feedback Questionnaire</h2>

    <section class="mt-5 mb-5">
      <div class="container shadow rounded-3 p-4 bg-white">
        <form action="/addFeedbackQue" method="POST" id="feedbackque_form">
          {% csrf_token %}

          <table class="table" id = "table">
            <thead>
                <tr>
                    <th>SI</th>
                    <th>Course Type</th>
                    <th>Q.no</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>
                      <div class="row">
            
            
                      <div class="col-9 mb-3">
                        <select id="course_type"  required name="course_type1"  required class="form-select">
                          <option disabled selected>Choose Course Type</option>
                          <option value="1">Theory</option>
                          <option value="2">Practical</option>
                          <option value="3">Project</option>
                          <option value="4">Seminar</option>
                          <option value="5">Program Elective</option>
                          <option value="6">Open Elective</option>
                        </select>
                        
                      </div>
                    </td>
                    <td>
                      <div class="col-9 mb-3">
                        <select id="Question_number" required name ="Question_number1" required class="form-select">
                          <option disabled selected>Choose question number</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                          <option value="6">6</option>
                          <option value="7">7</option>
                          <option value="8">8</option>
                          <option value="9">9</option>
                          <option value="10">10</option>
                        </select>
                        
                      </div>




                    </td>
                    <td>
                      <div class="col-12 mb-3">
                        <textarea class="form-control" required id="description" name = "description1" rows="3">Eg. Q1.Availability of faculty apart from the teaching hours for consultation / guidance.</textarea>
                      </div>
                
                
            </tbody>
        </table>

          
        <button type="button" class="btn btn-primary" onclick ="childrenRow()"> Add Question</button>
        <button type="button" class="btn btn-primary" onclick ="deleteRow()"> Delete Question</button>
        <input type="text" id="count" name="row_count" value=0 hidden>
        <button type="submit" class="btn btn-primary" name="btn_clicked" id="btn_clicked" value="btn_feedback_add"> Submit</button>

      </form>
    </div>
  </section>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    
    <script>
     
      
    
      var tableObj = document.getElementById("table");
      var count = document.getElementById("count");
      var cellCount = tableObj.rows[0].cells.length;
      function childrenRow() {

        var table = document.getElementById("table");
        // GET TOTAL NUMBER OF ROWS 
        var x =table.rows.length;
        count.value = x;
        var id = "tbl"+x;
        var row = table.insertRow(x);
        row.id=id;
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);
        
        cell1.outerHTML = `<th> ${x}</th>`;
        cell2.innerHTML = `<div class="col-9 mb-3"> <select id="course_type" name = "course_type${x}" required class="form-select"> <option disabled selected>Choose Course Type</option> <option value="1">Theory</option><option value="2">Practical</option><option value="3">Project</option><option value="4">Seminar</option><option value="5">Program Elective</option><option value="6">Open Elective</option></select> </div>`;
        cell3.innerHTML = `<div class="col-9 mb-3"> <select id="Question_number" name ="Question_number${x}" required class="form-select"> <option disabled selected>Choose question number</option> <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select> </div>`;
        cell4.innerHTML = `<div class="col-12 mb-3"><textarea class="form-control" id="exampleFormControlTextarea1" name="description${x}" rows="3">Eg. Q1.Availability of faculty apart from the teaching hours for consultation / guidance.</textarea> </div>`;
      }
      function deleteRow(){
        var rowLength = tableObj.rows.length;
        if(rowLength > 2){
          tableObj.deleteRow(rowLength-1);
        }
        

      }
     
    
       
    </script>
   
  </body>
</html>
{% endblock %}